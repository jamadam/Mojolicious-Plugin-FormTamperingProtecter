=head1 NAME

Mojolicious::Plugin::FormValidatorLazy - FormValidatorLazy

=head1 SYNOPSIS

    plugin form_validator_lazy => {
        token_key_prefix => 'form_validator_lazy',
        action => ['/receptor1'],
        blackhole => sub {
            $_[0]->res->code(400);
            $_[0]->render(text => 'An error occured');
        },
    };

=head1 DESCRIPTION

B<This software is considered to be alpha quality and isn't recommended for
regular usage.>

Mojolicious::Plugin::FormValidatorLazy is a Mojolicious plugin for validating
post data with auto-generated validation rules. The plugin generates validation
rules based on DOM structure and catch the errors.

The plugin detects following error for now.

=over

=item Unknown form fields.

=item Unknown values of checkboxes or radio buttons.

=item Hidden field tamperings.

=item Form field omittion against require attributes.

=item Values against maxlength attributes.

=back

=head2 CLASS METHODS

=head3 inject_digest

Generates a digest string of form structure and inject into itself.

    $dom->find(qq{form[action="$action"][method="post"]})->each(sub {
        my $form = shift;
        inject_digest($form, $token_key, $app->secret);
    });

=head3 validate_form

Validates given form data by given digest.

    my $error = validate_form($c->tx->req->params, $digest, $app->secret);

=head2 OPTIONS

=head1 AUTHOR

Sugama Keita, E<lt>sugama@jamadam.comE<gt>

=head1 COPYRIGHT AND LICENSE

Copyright (C) 2011 by Sugama Keita.

This program is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.

=cut
